# 学习过程中的 DEMO

## 1.仿京东首页
此 DEMO 为初接触 H5+CSS 做的仿京东首页，由于技术栈的限制，此页面为静态页面。通过此 DEMO 对以下知识点加深了认识：

- 网页的制作流程；
- 盒子模型，无处不盒子；
- 边距的使用，宽度高度剩余法，或者将盒子转换成 box-sizing；
- 浮动以及定位问题
- 字体图标的使用
- 清楚浮动问题，为什么要清除浮动。主要是为了解决父级元素（没有指定高度），因子级浮动引起内部高度为 0 的问题。解决方法(之一)：触发 BFC；
- 许多行内元素是没有宽和高的，需要转换 display 模式。可以转换成块级或者行内块，个人更喜欢行内块；

### CSS 的继承问题。

尤其是遇到标签 a 的继承问题。想更改 a 的样式，尝试修改 a 的父盒子样式，认为这样 a 就可以继承了，实际上是不行的。通过查询得到如下解释：

- 这主要是因为浏览器默认样式实际上已经为 a 标签设置好了一个颜色。它不会再去继承父元素的颜色了。（其实继承了，但是因为是继承的，所有优先级比不上自己本身设置的。**继承的 css 属性优先级是最低的**)

- 解决方法：

```css
a {
  color: inherit;
}
```

- 结合 transition 和 transform 实现了一些过渡效果，增加了视觉体验性。CSS3 新特性。

## 2.仿百度搜索框
输入任何关键字，即可跳转百度，对关键字进行搜索。键盘上下选择、鼠标点击候选项以及点击搜索按钮都可以跳转搜索。

### 实现原理

向输入框动态输入时关键词，将当前关键词作为问号参数后面的值，因为要跨域使用百度的接口，所以通过 JSONP 跨域创建 Ajax 请求。回调函数处理返回值。

### 优化

- 使用 flex 布局

- 使用函数节流，控制 JSNOP 跨域请求的频率

- 使用箭头函数处理 setTimeout 中 this 指向问题

- 为了避免注册太多事件，影响内存，对于鼠标点击候选项 li 标签，或键盘上下选择以及回车跳转等一些列事件，利用事件冒泡原理，在最外层大盒子上使用事件委托。

- 由于 Id 是唯一的，因此相比 className 或者 tagName，根据 Id 查找是相对快的，但是上述获取到的结果都是 HTML 集合,该集合始终与底层文档保持连接，效率低下。 querySelector 以及 querySelectorAll，得到的是一个 NodeList，它是一个类数组对象，是不会带来 HTML 集合的问题,但是要考虑兼容性问题。另外，要避免反复查询，可以将 DOM 结点保存到变量中去。

- 尽可能少的去改变 DOM 包括添加，修改，删除。改变 DOM 就会引起浏览器渲染。所以之前动态创建 li 标签并插入到 DOM 中的方式性能是不高的，由于要插入的 li 标签个数不多可能无法体会，如果 li 标签多了就会有卡顿。

  ```js
  for (let i = 0; i < result.length; i++) {
    // 动态创建li标签 不推荐
    var liObj = document.createElement("li");
    liObj.innerHTML = result[i];
    searchResult.appendChild(liObj);
  }
  ```

  所以改成 innerHTML 的形式：

  ```js
  var str = "";
  for (let i = 0; i < result.length; i++) {
    str += `<li>${result[i]}</li>`;
  }
  searchResult.innerHTML = str;
  ```

## 3.原生 JS 实现轮播图

本轮播图非使用移动像素来实现，而是通过设置图片透明度 opacity 来实现。

- 初始化-----显示第一张图片，第一个小圆点背景颜色为淡粉色；
- 点击左右焦点和右下角小圆点能实现图片的切换；
- 设置一个 index 属性，保存索引，注册圆点点击事件。使用了一个全局变量来控制图片的切换和小圆点同步；
- 排他思想----先清除所有的，再设置当前的；
- 使用定时器 setInterval 实现每 3 秒自动轮播功能；
- 鼠标进入停止轮播，鼠标离开重新开始轮播。

### 不足

- 刚开始加载时会出现一种乱码的感觉-----可能跟图片大小有关。本地端预览时不会出现这样的状况。

## 4.响应式布局的 P2P 网站--预览效果

通过 CSS3 中的[媒体查询](https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Media_queries)实现

## [5.vue全家桶实现仿去哪儿首页和城市页面](https://github.com/rujinshi/Demo_Front/tree/master/5.travel)

使用vue全家桶+webpack构建。首页轮播图使用Swiper插件实现，不同页面之间的切换使用Vue Router(动态路由)，城市页面与首页切换时，使用Vuex管理共享数据(城市)。非父子组件传值，实现字母表与城市名称列表的联动效果。Axois获取本地假数据实现前后端分离，多处使用Flex布局实现响应式。

### 优化

1.轮播图在加载的时候有抖动感-->使用一个高度为0，设置padding-bottom来实现（padding-bottom为百分比的时候是以父元素的width为参照物）。

2.滚动字母表出发事件的时候，使用函数防抖，限制触发频率。

3.使用Keep-Alive模式，避免每次两个页面切换的时候，都发送Ajax请求。

4.城市地点的存储使用localStorage，相对优化一点体验吧。

### 不足

1.webpack了解的还很浅显

2.首屏加载不是很快 感觉到有延迟 前端性能优化方面要学的还是很多

3.vuex和vue router使用的不是很熟悉，只是稍微了解，并且只使用了当中的几个模块。
